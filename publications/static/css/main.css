/* for colours see https://github.com/ifgi/optimetaPortal/issues/36 */

html, body {
  height: 100%;
  margin: 0;
  flex-wrap: wrap;
  overflow: hidden;
  width: 100%;
  white-space: nowrap;
}

body {
  overflow: auto;
}

main {
  white-space: nowrap;
  padding-bottom: 3em;
}

.navbar {
  height: 50px;
  background-color: #158F9B;
}

@media (max-width: 720px) {
  span.tagline {
    display: none;
  }
}

.tagline {
  font-weight: 800;
  font-size: 1.6em;
  box-sizing: unset;
  font-style: italic;
}

#sidebar {
  float: left;
  height: 100%;
  width: 10%;
}

#timeline {
  width: 100%;
}

#map {
  height: calc(100vh - 100px);
  width: 100%;
}

.footer {
  position: absolute;
  padding-bottom: 0px;
  width: 100%;
}

.footer-copyright {
  background-color: #158F9B;
  height: 50px;
}

.alert-primary {
  color: #000000;
  background-color: rgba(21, 143, 155, 0.2);
  border-color: #158F9B;
}

.alert-success {
  color: #000000;
  background-color: rgba(21, 143, 155, 0.2);
  border-color: #278189;
}

.alert-danger {
  color: #000000;
  background-color: rgba(155, 33, 21, 0.2);
  border-color: #9B2115;
}

.btn-primary {
  background-color: #158F9B;
  border-color: #158F9B;
}

.btn-primary:hover {
  background-color: #093C41;
  border-color: #093C41;
}

.btn-secondary {
  background-color: #585858;
  border-color: #585858;
}

.btn-primary:hover {
  background-color: #093C41;
  border-color: #093C41;
}

.btn-success {
  background-color: #158F9B;
  border-color: #158F9B;
}

.btn-danger {
  background-color: #9B2115;
  border-color: #9B2115;
}

.btn-outline-danger {
  color: #9B2115;
  border-color: #9B2115;
}

.btn-outline-danger:hover {
  color: #ffffff;
  background-color: #9B2115;
  border-color: #9B2115;
}

.btn-warning {
  background-color: #9B7115;
  border-color: #9B7115;
}

.btn-outline-warning {
  color: #9B7115;
  border-color: #9B7115;
}

.btn-outline-warning:hover {
  color: #ffffff;
  background-color: #9B7115;
  border-color: #9B7115;
}

.btn-info {
  background-color: #158F9B;
  border-color: #158F9B;
}

.btn-link {
  font-weight: 400;
  color: #158F9B;
  text-decoration: none;
}

.btn-link:hover {
  color: #278189;
  text-decoration: underline;
}

/* have top-right map UI below the login/user menu */
.leaflet-top {
  z-index: 999;
}

/* Popup color and font */
.custom-popup .leaflet-popup-content-wrapper {
  background: #fff;
  color: #158F9B;
  font-size: 12px;
}

/* Color of anchor elements in popup */
.custom-popup .leaflet-popup-content-wrapper a {
  color: #158F9B;
}

/* Color of popup tip */
.custom-popup .leaflet-popup-tip {
  background: #fff;
}

.leaflet-popup-content {
  max-width: 250px !important;
  white-space: normal;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Work landing page styles */
h1.page-title {
  margin-top: 2rem;
  margin-bottom: .5rem;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

.muted {
  color: #666;
  font-size: .92rem;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.meta {
  margin: 1rem 0 1.5rem;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.meta a {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-all;
}

#mini-map {
  height: 280px;
  border-radius: 8px;
  margin: 1.5rem 0;
}

/* Custom zoom to all features button */
.leaflet-control-zoom-all {
  background-color: white;
  border: 2px solid rgba(0,0,0,0.2);
  border-radius: 4px;
  width: 26px;
  height: 26px;
  line-height: 26px;
  text-align: center;
  cursor: pointer;
  font-size: 18px;
  font-weight: bold;
}

.leaflet-control-zoom-all:hover {
  background-color: #f4f4f4;
}

/* Works page styles */
.works-page h2 {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

.works-page ul li {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* General text wrapping for paragraphs in content pages */
.work-landing-page p {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Contribute page styles - completely refactored */

/* Main container */
.locate-container {
  max-width: 100%;
  overflow-x: hidden;
}

/* Grid layout for publication cards */
.publication-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  width: 100%;
}

@media (min-width: 768px) {
  .publication-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Card wrapper with strict containment */
.locate-card {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-width: 0; /* Critical for flex items to shrink below content size */
  overflow: hidden; /* Prevent any overflow from card */
}

/* Card body with proper text containment */
.locate-card .card-body {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  padding: 1.25rem;
  overflow: hidden; /* Prevent overflow */
  min-width: 0; /* Allow shrinking */
}

/* Card title with forced wrapping */
.locate-card .card-title {
  font-size: 1.1rem;
  margin-bottom: 0.75rem;
  /* Force text wrapping */
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
  /* Prevent overflow */
  overflow: hidden;
  min-width: 0;
}

/* Links inside titles must wrap */
.locate-card .card-title a {
  /* Force wrapping on links */
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
  /* Make link behave as block-level for wrapping */
  display: inline;
  /* Ensure link can't exceed container */
  max-width: 100%;
  overflow: hidden;
}

/* Abstract area */
.locate-card .abstract-area {
  flex: 1 1 auto;
  margin-bottom: 0.75rem;
  overflow: hidden;
  min-width: 0;
}

/* Card text (abstract) */
.locate-card .card-text {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

/* Card footer with strict containment */
.locate-card .card-footer {
  margin-top: auto;
  padding: 1rem;
  border-top: 1px solid rgba(0,0,0,.125);
  background-color: transparent;
  /* Prevent overflow */
  overflow: hidden;
  min-width: 0;
}

/* Small text in footer */
.locate-card .card-footer small {
  word-wrap: break-word;
  overflow-wrap: break-word;
  word-break: break-word;
  display: block;
}

/* DOI text with special breaking */
.doi-text {
  font-family: monospace;
  font-size: 0.85em;
  /* Break anywhere if needed for DOIs */
  word-break: break-all;
  overflow-wrap: anywhere;
  display: inline-block;
  max-width: 100%;
}

/* Buttons in footer */
.locate-card .card-footer .btn {
  width: 100%;
  margin-top: 0.5rem;
  /* Prevent button text from breaking card */
  word-wrap: break-word;
  white-space: normal;
}
