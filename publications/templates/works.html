{% extends "base.html" %}

{% block title %}All works - {% endblock %}

{% block content %}
  <div class="container py-5 works-page">
    <h1>All Article Links</h1>
    {% if is_admin %}
      <p class="alert alert-info">
        <strong>Admin view:</strong> You can see all publications regardless of status. Status labels are shown next to each entry.
      </p>
    {% endif %}
    <ul>
      {% for item in links %}
        <li>
          <a href="{{ item.href }}" target="_blank" rel="noopener" title="Open article: {{ item.title }} (opens in new tab)">{{ item.title }}</a>
          {% if is_admin and item.status %}
            <span class="badge
              {% if item.status_code == 'p' %}badge-success
              {% elif item.status_code == 'd' %}badge-secondary
              {% elif item.status_code == 't' %}badge-warning
              {% elif item.status_code == 'w' %}badge-danger
              {% elif item.status_code == 'h' %}badge-info
              {% elif item.status_code == 'c' %}badge-primary
              {% endif %}">{{ item.status }}</span>
          {% endif %}
        </li>
      {% empty %}
        <li>No publications found.</li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}
